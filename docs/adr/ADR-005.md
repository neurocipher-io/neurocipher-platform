id: ADR-005
title: Observability and Telemetry
owner: Platform SRE
status: Accepted
last_reviewed: 2025-10-23

ADR-005 Observability and Telemetry

  

  

- Status: Accepted
- Date: 2025-10-23
- Owners: Platform SRE

  

  

  

Context

  

  

The data pipeline handles high-volume asynchronous workloads. Visibility is required for debugging, SLA enforcement, and anomaly detection.

  

  

Decision

  

  

Adopt full structured telemetry on AWS native stack.

  

- Logs: JSON structured, emitted via stdout, shipped to CloudWatch Logs.
- Metrics: CloudWatch custom metrics + embedded X-Ray segments.
- Tracing: AWS X-Ray tracing across Lambdas and Fargate.
- Dashboards: Grafana (managed) sourced from CloudWatch and Weaviate health endpoints.
- Alerts: CloudWatch Alarms → SNS → PagerDuty or Slack.

  

  

  

Alternatives

  

  

1. OpenTelemetry collector on ECS only.
2. Elastic APM.
3. Third-party observability SaaS.

  

  

Rejected for cost or management overhead.

  

  

Consequences

  

  

- Unified view of ingest rate, queue depth, embedding latency.
- Added telemetry cost proportional to event volume.
- X-Ray trace IDs embedded in logs.

## Acceptance Criteria

- Metrics, logs, and traces for all in-scope services (ingest, normalize, embed, api, batch, Security Engine) are emitted using the stack defined in this ADR (CloudWatch Logs, X-Ray traces, CloudWatch metrics and dashboards).
- Metric and log schemas (names, labels/tags, trace IDs) conform to the taxonomy defined in OBS-001/OBS-002 and this ADR; no conflicting metrics or label keys are introduced without updating the observability specs.
- Core golden signals and SLO/SLI metrics specified here are wired into dashboards and alerts in line with OBS-002 and OBS-003 (including owners and runbooks).
- Trace context propagation (X-Ray trace IDs and correlation IDs) is implemented end-to-end across HTTP and async paths as described in this ADR and is validated via sampling and trace inspection.
- Any change to observability stack components (e.g., switching tracing backend, metric store, or log pipeline) is recorded via a new ADR and cross-referenced from ADR-005.
